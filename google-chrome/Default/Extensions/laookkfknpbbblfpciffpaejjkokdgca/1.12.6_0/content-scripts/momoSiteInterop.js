!function(){if(chrome&&chrome.runtime){var e=chrome.runtime.getURL(""),n=e.startsWith("chrome-extension:")?"chrome-extension":e.startsWith("moz-extension:")?"moz-extension":null;if(n){var t=document.createElement("input");t.type="hidden",t.id="momentumPlatform",t.value=n,document.body.appendChild(t)}var a=chrome.runtime.getManifest();if(a){var o=document.createElement("input");o.type="hidden",o.id="momentumVersion",o.value=a.version,document.body.appendChild(o)}window.addEventListener("message",function(n){if(n.source==window&&n.data.type&&"momentum:oneTimeLogin"==n.data.type){var e=!!n.data.openNewTab,t=!!n.data.updateSenderTab;chrome.runtime.sendMessage({type:"oneTimeLogin",payload:n.data.payload,openNewTab:e,updateSenderTab:t},function(e){window.postMessage({type:"momentum:callback:oneTimeLogin",callbackId:n.data.callbackId,payload:e},window.origin)})}},!1)}}();