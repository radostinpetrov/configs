var fn_addin = (function (m, $, dependencies) { var addin = addin || {}; addin.styles=addin.styles||{};addin.commands = addin.commands||{};addin.dependencies=dependencies||addin.dependencies||{};addin.styles.style = function(){ return; }; addin.views = addin.views || {}; addin.collect = addin.collect || {}; addin.models = addin.models || {}; addin.templates = addin.templates || {}; addin.info={
	"widget": true,
	"placeholderType": "dashIcon",
	"id": "topics",
	"label": "Topics",
	"requiredFeature": "topics",
	"addin": "d13fc525-0d8d-4516-910b-063dc88cebd3",
	"region": "top-left",
	"order": "append",
	"openState": "showTopics",
	"toggleEvent": "globalEvent:key:P",
	"keepOpenSetting": "keepTopicsState",
	"emptyFlag": "topicsEmpty",
	"flex-order": 3,
	"icon": "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\"><g transform=\"translate(-1)\" fill-rule=\"nonzero\"><path d=\"M3.578 2.586a.299.299 0 0 0-.078.224v20.903a.28.28 0 0 0 .077.2.273.273 0 0 0 .173.087h2.976a.28.28 0 0 0 .197-.086c.052-.054.08-.127.077-.234V2.785a.28.28 0 0 0-.078-.2.273.273 0 0 0-.172-.085H3.767a.28.28 0 0 0-.19.086zM3.726 0h3.048A2.78 2.78 0 0 1 9.5 2.81v20.837A2.78 2.78 0 0 1 6.75 26.5H3.726a2.78 2.78 0 0 1-1.957-.86A2.76 2.76 0 0 1 1 23.68V2.835A2.78 2.78 0 0 1 3.726 0zM13.578 9.59c-.053.057-.081.132-.078.25v13.861a.29.29 0 0 0 .078.209.285.285 0 0 0 .172.09h2.968a.29.29 0 0 0 .204-.09c.053-.057.081-.132.078-.25V9.799a.29.29 0 0 0-.078-.209.285.285 0 0 0-.172-.09h-2.978a.29.29 0 0 0-.194.09zm.14-2.59h3.064a2.79 2.79 0 0 1 1.958.875c.51.54.784 1.263.76 1.965v13.779a2.79 2.79 0 0 1-.76 2.006c-.51.54-1.215.856-1.99.875h-3.032a2.79 2.79 0 0 1-1.958-.875A2.764 2.764 0 0 1 11 23.66V9.881a2.79 2.79 0 0 1 2.718-2.88zM31.473 22.6a2.84 2.84 0 0 1-.403 2.15 2.865 2.865 0 0 1-1.86 1.234l-2.976.482a2.76 2.76 0 0 1-2.07-.528 2.737 2.737 0 0 1-1.068-1.811L20.02 4.851a2.834 2.834 0 0 1 2.258-3.281l2.978-.536a2.75 2.75 0 0 1 3.131 2.357l3.086 19.208zM25.916 3.767c-.015-.112-.05-.173-.103-.213a.253.253 0 0 0-.151-.055l-2.92.526c-.177.035-.294.205-.258.407L25.57 23.77a.26.26 0 0 0 .1.174c.056.042.127.06.18.052l2.912-.471a.34.34 0 0 0 .217-.147c.05-.076.067-.169.037-.32l-3.1-19.29z\"/><rect x=\"1.05\" y=\"28.75\" width=\"30.5\" height=\"2.5\" rx=\"1.25\"/></g></svg>",
	"dependencies": ["vue"]
}
; m.console.log(m.elapsed()+ ': '+addin.info.id+' started'); !function(t){var e={};function a(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=e,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=26)}({0:function(t,e){t.exports=Vue},1:function(t,e,a){"use strict";function n(t,e,a,n,i,o,r,s){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=a,l._compiled=!0),n&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),r?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},l._ssrRegister=c):i&&(c=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var p=l.render;l.render=function(t,e){return c.call(e),p(t,e)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return{exports:t,options:l}}a.d(e,"a",(function(){return n}))},2:function(t,e,a){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var a=function(t,e){var a=t[1]||"",n=t[3];if(!n)return a;if(e&&"function"==typeof btoa){var i=(r=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),o=n.sources.map((function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"}));return[a].concat(o).concat([i]).join("\n")}var r;return[a].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+a+"}":a})).join("")},e.i=function(t,a){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},i=0;i<this.length;i++){var o=this[i][0];null!=o&&(n[o]=!0)}for(i=0;i<t.length;i++){var r=t[i];null!=r[0]&&n[r[0]]||(a&&!r[2]?r[2]=a:a&&(r[2]="("+r[2]+") and ("+a+")"),e.push(r))}},e}},26:function(t,e,a){t.exports=a(31)},27:function(t,e,a){"use strict";var n=a(9);a.n(n).a},28:function(t,e,a){(t.exports=a(2)(!1)).push([t.i,"\n.app-container[data-v-2135dafc] { order: 3;\n}\n.app[data-v-2135dafc] { min-height: 100%; position: fixed; top: 0; right: 0; bottom: 0; left: 250px; z-index: 5; display: flex; flex-direction: column; border-radius: 0;\n}\n.app header[data-v-2135dafc] { margin: var(--app-padding);\n}\n.back[data-v-2135dafc] { margin-left: -6px; margin-right: 12px; vertical-align: top;\n}\n.back[data-v-2135dafc]:after { height: 34px; width: 34px;\n}\n.back .icon[data-v-2135dafc] { height: 14px; margin-left: -1px; opacity: 0.7;\n}\n.app header h2[data-v-2135dafc] { margin: 0; padding: 0; display: inline-block; font-size: 1.9375rem; font-weight: 500; line-height: 1.4rem;\n}\n.button-edit[data-v-2135dafc] { height: 34px; margin-top: -4px; margin-left: 1rem; padding: 0 1.3rem 1px; position: absolute; display: inline-flex; align-items: center; opacity: 0.8; background: none !important; box-sizing: border-box; transition: all 0.1s ease; vertical-align: top;\n}\n.button-edit[data-v-2135dafc]:hover { opacity: 1; background: rgba(255,255,255,0.3) !important;\n}\n.light .button-edit[data-v-2135dafc]:hover { background: rgba(0,0,0,0.05) !important;\n}\n.button-edit[data-v-2135dafc]:hover:active { background: rgba(255,255,255,0.5) !important; transition-duration: 0s;\n}\n.light .button-edit[data-v-2135dafc]:hover:active { background: rgba(0,0,0,0.1) !important;\n}\n.edit-icon[data-v-2135dafc] { --size: 14px; height: var(--size); width: var(--size); margin-right: 8px; margin-left: -4px; opacity: 0.9; fill: var(--icon-color);\n}\n.edit-label[data-v-2135dafc] { opacity: 0.8; color: var(--app-text-color);\n}\n\n/*\t\t.close { padding: 15px 20px; position: absolute; top: 0; right: 0; cursor: pointer; opacity: 0.6; transition: opacity 0.15s ease; }\n\t\t\t.close:hover { opacity: 1; }*/\n.categories[data-v-2135dafc] { --icon-height: 25px; --icon-width: 25px; display: grid; grid-column-gap: 1rem; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); box-sizing: border-box;\n}\n.category[data-v-2135dafc] { margin-bottom: 1rem; padding: var(--app-padding); box-sizing: border-box;\n}\n.category-header[data-v-2135dafc] { margin-bottom: 1rem; display: flex; align-items: center;\n}\n.category-icon[data-v-2135dafc] { max-height: var(--icon-height); width: var(--icon-width); margin-right: 0.75rem; opacity: 0.85; filter: invert(1);\n}\n.light .category-icon[data-v-2135dafc] { opacity: 0.73; filter: none;\n}\n.category-title[data-v-2135dafc] { min-height: var(--icon-height); opacity: 0.85; font-size: 1.3125rem; font-weight: 600; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;\n}\n.topic a[data-v-2135dafc] { margin: 0 -12px; padding: 7px 12px; display: block; color: hsla(0, 0%, 100%, 0.65); /*hsl(194, 16%, 64%);*/ transition: 0.1s ease; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;\n}\n.topic a[data-v-2135dafc]:hover { opacity: 0.8; text-decoration: underline;\n}\n.topic a[data-v-2135dafc]:active { opacity: 0.6;\n}\n.light .topic a[data-v-2135dafc] { color: hsl(194, 67%, 44%);\n}\n.empty-state[data-v-2135dafc] { flex-grow: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; opacity: 0.45;\n}\n\n\n/* Animations */\n.swipe-left-enter-active[data-v-2135dafc], .swipe-left-leave-active[data-v-2135dafc] { transition: transform var(--a-show-full-duration) var(--a-show-full-curve), opacity var(--a-show-full-duration) var(--a-show-full-curve);\n}\n.swipe-left-enter[data-v-2135dafc], .swipe-left-leave-to[data-v-2135dafc] { opacity: 0; transform: translateX(1rem);\n}\n\n",""])},3:function(t,e,a){"use strict";function n(t,e){for(var a=[],n={},i=0;i<e.length;i++){var o=e[i],r=o[0],s={id:t+":"+i,css:o[1],media:o[2],sourceMap:o[3]};n[r]?n[r].parts.push(s):a.push(n[r]={id:r,parts:[s]})}return a}a.r(e),a.d(e,"default",(function(){return f}));var i="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o={},r=i&&(document.head||document.getElementsByTagName("head")[0]),s=null,c=0,l=!1,p=function(){},d=null,u="data-vue-ssr-id",h="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function f(t,e,a,i){l=a,d=i||{};var r=n(t,e);return g(r),function(e){for(var a=[],i=0;i<r.length;i++){var s=r[i];(c=o[s.id]).refs--,a.push(c)}e?g(r=n(t,e)):r=[];for(i=0;i<a.length;i++){var c;if(0===(c=a[i]).refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete o[c.id]}}}}function g(t){for(var e=0;e<t.length;e++){var a=t[e],n=o[a.id];if(n){n.refs++;for(var i=0;i<n.parts.length;i++)n.parts[i](a.parts[i]);for(;i<a.parts.length;i++)n.parts.push(m(a.parts[i]));n.parts.length>a.parts.length&&(n.parts.length=a.parts.length)}else{var r=[];for(i=0;i<a.parts.length;i++)r.push(m(a.parts[i]));o[a.id]={id:a.id,refs:1,parts:r}}}}function v(){var t=document.createElement("style");return t.type="text/css",r.appendChild(t),t}function m(t){var e,a,n=document.querySelector("style["+u+'~="'+t.id+'"]');if(n){if(l)return p;n.parentNode.removeChild(n)}if(h){var i=c++;n=s||(s=v()),e=x.bind(null,n,i,!1),a=x.bind(null,n,i,!0)}else n=v(),e=w.bind(null,n),a=function(){n.parentNode.removeChild(n)};return e(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;e(t=n)}else a()}}var b,y=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join("\n")});function x(t,e,a,n){var i=a?"":n.css;if(t.styleSheet)t.styleSheet.cssText=y(e,i);else{var o=document.createTextNode(i),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(o,r[e]):t.appendChild(o)}}function w(t,e){var a=e.css,n=e.media,i=e.sourceMap;if(n&&t.setAttribute("media",n),d.ssrId&&t.setAttribute(u,e.id),i&&(a+="\n/*# sourceURL="+i.sources[0]+" */",a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),t.styleSheet)t.styleSheet.cssText=a;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(a))}}},31:function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"topics",staticClass:"topics app-container show-anyway",attrs:{id:"topics"}},[a("div",{staticClass:"app-dash app-dash-icon add-shadow toggle topics-toggle",on:{click:t.toggleApp}},[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"}},[a("g",{attrs:{transform:"translate(-1)","fill-rule":"nonzero"}},[a("path",{attrs:{d:"M3.578 2.586a.299.299 0 0 0-.078.224v20.903a.28.28 0 0 0 .077.2.273.273 0 0 0 .173.087h2.976a.28.28 0 0 0 .197-.086c.052-.054.08-.127.077-.234V2.785a.28.28 0 0 0-.078-.2.273.273 0 0 0-.172-.085H3.767a.28.28 0 0 0-.19.086zM3.726 0h3.048A2.78 2.78 0 0 1 9.5 2.81v20.837A2.78 2.78 0 0 1 6.75 26.5H3.726a2.78 2.78 0 0 1-1.957-.86A2.76 2.76 0 0 1 1 23.68V2.835A2.78 2.78 0 0 1 3.726 0zM13.578 9.59c-.053.057-.081.132-.078.25v13.861a.29.29 0 0 0 .078.209.285.285 0 0 0 .172.09h2.968a.29.29 0 0 0 .204-.09c.053-.057.081-.132.078-.25V9.799a.29.29 0 0 0-.078-.209.285.285 0 0 0-.172-.09h-2.978a.29.29 0 0 0-.194.09zm.14-2.59h3.064a2.79 2.79 0 0 1 1.958.875c.51.54.784 1.263.76 1.965v13.779a2.79 2.79 0 0 1-.76 2.006c-.51.54-1.215.856-1.99.875h-3.032a2.79 2.79 0 0 1-1.958-.875A2.764 2.764 0 0 1 11 23.66V9.881a2.79 2.79 0 0 1 2.718-2.88zM31.473 22.6a2.84 2.84 0 0 1-.403 2.15 2.865 2.865 0 0 1-1.86 1.234l-2.976.482a2.76 2.76 0 0 1-2.07-.528 2.737 2.737 0 0 1-1.068-1.811L20.02 4.851a2.834 2.834 0 0 1 2.258-3.281l2.978-.536a2.75 2.75 0 0 1 3.131 2.357l3.086 19.208zM25.916 3.767c-.015-.112-.05-.173-.103-.213a.253.253 0 0 0-.151-.055l-2.92.526c-.177.035-.294.205-.258.407L25.57 23.77a.26.26 0 0 0 .1.174c.056.042.127.06.18.052l2.912-.471a.34.34 0 0 0 .217-.147c.05-.076.067-.169.037-.32l-3.1-19.29z"}}),a("rect",{attrs:{x:"1.05",y:"28.75",width:"30.5",height:"2.5",rx:"1.25"}})])]),t._v(" "),a("span",{staticClass:"app-dash-icon-label"},[t._v("Topics")])]),t._v(" "),a("transition",{attrs:{name:"swipe-left"}},[t.containerOpen?a("div",{staticClass:"app app-topics",attrs:{id:"topics-app"}},[a("header",[a("div",{staticClass:"icon-wrapper back",on:{click:function(e){return e.stopPropagation(),t.toggleApp(e)}}},[a("svg",{staticClass:"icon icon-back",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 250.738 250.738"}},[a("path",{attrs:{d:"M96.633 125.369l95.053-94.533c7.101-7.055 7.101-18.492 0-25.546-7.1-7.054-18.613-7.054-25.714 0L58.989 111.689c-3.784 3.759-5.487 8.759-5.238 13.68-.249 4.922 1.454 9.921 5.238 13.681l106.983 106.398c7.101 7.055 18.613 7.055 25.714 0 7.101-7.054 7.101-18.491 0-25.544l-95.053-94.535z"}})])]),t._v(" "),a("h2",[t._v("Topics")]),t._v(" "),t.isAdmin?a("a",{staticClass:"button button-edit",attrs:{href:"https://team.momentumdash.com/team/topics"}},[a("svg",{staticClass:"edit-icon",attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 528.899 528.899","xml:space":"preserve"}},[a("path",{attrs:{d:"M328.883,89.125l107.59,107.589l-272.34,272.34L56.604,361.465L328.883,89.125z M518.113,63.177l-47.981-47.981\n\t\t\t\t\t\t\t\tc-18.543-18.543-48.653-18.543-67.259,0l-45.961,45.961l107.59,107.59l53.611-53.611\n\t\t\t\t\t\t\t\tC532.495,100.753,532.495,77.559,518.113,63.177z M0.3,512.69c-1.958,8.812,5.998,16.708,14.811,14.565l119.891-29.069\n\t\t\t\t\t\t\t\tL27.473,390.597L0.3,512.69z"}})]),t._v(" "),a("span",{staticClass:"edit-label"},[t._v("Edit")])]):t._e()]),t._v(" "),a("ul",{staticClass:"categories"},t._l(t.topicData,(function(e,n){return a("li",{key:n,staticClass:"category"},[a("div",{staticClass:"category-header"},[e.iconUrl?a("img",{staticClass:"category-icon",attrs:{src:e.iconUrl}}):t._e(),t._v(" "),a("div",{staticClass:"category-title"},[t._v(t._s(e.title))])]),t._v(" "),a("ul",{staticClass:"topics"},t._l(e.topics,(function(e,n){return a("li",{key:n,staticClass:"topic"},[a("a",{key:"i",attrs:{href:e.url,target:"_blank"}},[t._v(t._s(e.title))])])})),0)])})),0),t._v(" "),t.isLoading?a("section",{staticClass:"empty-state"},[a("span",{staticClass:"empty-message"},[t._v("Loading...")])]):t._e(),t._v(" "),t.isEmpty?a("section",{staticClass:"empty-state"},[a("span",{staticClass:"empty-message"},[t._v("Your team hasn't added any topics yet.")])]):t._e()]):t._e()])],1)};o._withStripped=!0;var r=new(i.a.extend({name:"topicDataManager",data:()=>({rawData:{},topicData:[],loaded:!1}),localStorageKey:"topic_data",created(){this.rawData=localStorage.getObject("topics"),this.rawData&&(this.$set(this,"topicData",this.buildHierarchy(this.rawData)),this.loaded=!0),this.getData().then(t=>{this.rawData=t,localStorage.setObject("topics",this.rawData),this.$set(this,"topicData",this.buildHierarchy(this.rawData)),this.loaded=!0})},methods:{getData:()=>new Promise((t,e)=>{$.ajax({beforeSend:setMomentumAuthHeader,url:m.globals.urlRootApi+"team/topics",success:e=>{t(e)},error:t=>{e(t)}})}),sort:(t,e)=>t.order-e.order,buildHierarchy(t){let e=[];return t&&t.categories&&t.categories.forEach(t=>{t.topics=[],e.push(t)}),t&&t.topics&&t.topics.forEach(t=>{e.filter(e=>e.id===t.categoryId).forEach(e=>{e.topics.push(t)})}),e.sort(this.sort).forEach(t=>t.topics.sort(this.sort)),e}}})),s={name:"Topics",data:()=>({containerOpen:!1}),computed:{isLoading:()=>!r.loaded,isEmpty(){return!(this.isLoading||this.topicData&&this.topicData.length)},topicData:()=>r.topicData,isAdmin:()=>m.models.teamInfo.get("team").userIsAdmin},mounted(){setTimeout(()=>this.toggleApp(),1),this.eventBus.listenTo(m,"globalEvent:key:P",this.toggleApp)},destroyed(){this.eventBus.stopListening(m,"globalEvent:key:P",this.toggleApp)},created(){this.eventBus=_.extend(this,Backbone.Events)},methods:{toggleApp(){this.containerOpen=!this.containerOpen,this.containerOpen?(this.addListeners(),m.widgetManager.hideAppsExcept("#topics, #team-logo"),m.trigger("topics:open")):(m.widgetManager.showApps(),m.trigger("topics:closed"),this.removeListeners())},handleGlobalClick(t){this.$refs.topics&&!this.$refs.topics.contains(t.target)&&this.toggleApp()},addListeners(){this.eventBus.listenTo(m,"globalEvent:esc",this.toggleApp),this.eventBus.listenTo(m,"globalEvent:click",this.handleGlobalClick)},removeListeners(){this.eventBus.stopListening(m,"globalEvent:esc",this.toggleApp),this.eventBus.stopListening(m,"globalEvent:click",this.handleGlobalClick)}}},c=(a(27),a(1)),l=Object(c.a)(s,o,[],!1,null,"2135dafc",null);l.options.__file="source/addins-vue/topics/Topics.vue";var p=l.exports;m.widgetManager.handover("topics",null,{region:"top-center",order:"append",bootstrap:function(t){new i.a({render:t=>t(p)}).$mount(t)}})},9:function(t,e,a){var n=a(28);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,a(3).default)("5eb14bc8",n,!1,{})}});
//# sourceMappingURL=main.js.map
/* Instantiations */
; return addin; }); if(m.addinManager) {m.addinManager.registerAddinFn("d13fc525-0d8d-4516-910b-063dc88cebd3", fn_addin);}